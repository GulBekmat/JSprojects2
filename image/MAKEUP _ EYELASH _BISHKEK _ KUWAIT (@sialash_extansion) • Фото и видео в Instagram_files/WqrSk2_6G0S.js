;/*FB_PKG_DELIM*/

__d("PolarisLocationActions",["PolarisLocationPostsTypes","PolarisUserModel","err","nullthrows","polarisGetLocationMediaFromNativeLocation","polarisNormalizeMediaDicts"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{location:c("nullthrows")(a.location),type:"LOCATION_PAGE_LOADED"}}function b(a){return function(b){var e,f;if(Object.keys(a.location_info).length===0)throw c("err")("NativeLocation returned empty location_info data");e=(e=(e=a[d("PolarisLocationPostsTypes").LOCATION_TAB_TYPES.RECENT])==null?void 0:e.sections)!=null?e:[];f=(f=(f=a[d("PolarisLocationPostsTypes").LOCATION_TAB_TYPES.RANKED])==null?void 0:f.sections)!=null?f:[];f=[].concat(f,e);e=d("polarisNormalizeMediaDicts").normalizeMediaDicts(d("polarisGetLocationMediaFromNativeLocation").getMediaFromLocationSections(f)).entities;var g=e.mediaDicts,h=e.userDicts;e=Object.keys((f=h)!=null?f:[]).map(function(a){return c("PolarisUserModel").fromNativeResponse(h[a]).toReduxStore()});b({locationData:a,media:Object.keys((f=g)!=null?f:[]).map(function(a){return g[a]}),type:"LOCATION_PAGE_LOADED_V2",users:e})}}g.loadLocationPage=a;g.loadLocationPageV2=b}),98);
__d("PolarisHashtagLogger",["PolarisDeviceOrMachineId","PolarisLocales","PolarisLogger","PolarisPigeonLogger","PolarisUA"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.clickPoint,e=a.containerModule,f=a.entityId,g=a.eventName,h=a.followStatus;a=a.position;b={click_point:b,containermodule:e,device_model:d("PolarisUA").getBrowserString(),device_os:"Web",deviceid:d("PolarisDeviceOrMachineId").getDeviceOrMachineId(),entity_id:f,entity_type:"hashtag",follow_status:h,hashtag_id:f,position:a,primary_locale:c("PolarisLocales").locale};d("PolarisLogger").logPigeonEvent(d("PolarisPigeonLogger").createEvent(g,d("PolarisLogger").getExtra(b),{module:e}))}g.logHashtagAction=a}),98);
__d("PolarisTagActions",["PolarisHashtagLogger","PolarisIGWebStorage","PolarisPostModel","PolarisSharedAPI","PolarisUserModel","nullthrows","polarisGetHashtagMediaFromNativeHashtag","polarisNormalizeMediaDicts"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return{tagName:a,type:"CONTENT_ADVISORY_ACKNOWLEDGED",userId:b}}function b(a){return function(b,e){var f=c("nullthrows")(a.hashtag);return b({contentAdvisoryIsAcknowledged:d("PolarisIGWebStorage").isContentAdvisoryAcknowledged(c("nullthrows")(f.name),(b=e())==null?void 0:(e=b.users)==null?void 0:e.viewerId),tagData:f,type:"TAG_PAGE_LOADED"})}}function e(a){return function(b,e){var f=a.recent,g=a.top,h=d("polarisNormalizeMediaDicts").normalizeMediaDicts(d("polarisGetHashtagMediaFromNativeHashtag").getMediaFromSections(g.sections)).entities,i=g!=null&&g.sections!=null&&g.sections.length>0?h.mediaDicts:{},j=d("polarisNormalizeMediaDicts").normalizeMediaDicts(d("polarisGetHashtagMediaFromNativeHashtag").getMediaFromSections(f.sections)).entities,k=f!=null&&f.sections!=null&&f.sections.length>0?j.mediaDicts:{};g=[].concat(Object.keys(i).map(function(a){return c("PolarisPostModel").fromNativeResponse(i[a]).toReduxStore()}),Object.keys(k).map(function(a){return c("PolarisPostModel").fromNativeResponse(k[a]).toReduxStore()}));f=[].concat(Object.keys(h.userDicts||{}).map(function(a){return c("PolarisUserModel").fromNativeResponse(h.userDicts[a]).toReduxStore()}),Object.keys(j.userDicts||{}).map(function(a){return c("PolarisUserModel").fromNativeResponse(j.userDicts[a]).toReduxStore()}));return b({contentAdvisoryIsAcknowledged:d("PolarisIGWebStorage").isContentAdvisoryAcknowledged(c("nullthrows")(a.name),(b=e())==null?void 0:(e=b.users)==null?void 0:e.viewerId),posts:g,tagData:a,type:"TAG_PAGE_LOADED_V2",users:f})}}function f(a){return function(b,c){return b({tagName:a,type:"TAG_PAGE_UNLOADED"})}}function h(a,b){return function(c,e){d("PolarisHashtagLogger").logHashtagAction(babelHelpers["extends"]({},b,{eventName:"follow_button_tapped",followStatus:"following"}));c({tagName:a,type:"FOLLOW_HASHTAG"});return d("PolarisSharedAPI").followHashtag(a).then(function(){c({tagName:a,type:"FOLLOW_HASHTAG_SUCCEEDED"})},function(){d("PolarisHashtagLogger").logHashtagAction(babelHelpers["extends"]({},b,{eventName:"follow_button_tap_failure",followStatus:"following"})),c({tagName:a,type:"FOLLOW_HASHTAG_FAILED"})})}}function i(a,b){return function(c,e){d("PolarisHashtagLogger").logHashtagAction(babelHelpers["extends"]({},b,{eventName:"follow_button_tapped",followStatus:"not_following"}));c({tagName:a,type:"UNFOLLOW_HASHTAG"});return d("PolarisSharedAPI").unfollowHashtag(a).then(function(){c({tagName:a,type:"UNFOLLOW_HASHTAG_SUCCEEDED"})},function(){d("PolarisHashtagLogger").logHashtagAction(babelHelpers["extends"]({},b,{eventName:"follow_button_tap_failure",followStatus:"not_following"})),c({tagName:a,type:"UNFOLLOW_HASHTAG_FAILED"})})}}g.acknowledgeContentAdvisory=a;g.loadTagPage=b;g.loadTagPageV2=e;g.unloadTagPage=f;g.followHashtag=h;g.unfollowHashtag=i}),98);
__d("PolarisExploreActions",["PolarisLocationActions","PolarisTagActions"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return d("PolarisTagActions").loadTagPageV2(a.data)};b=function(a){return d("PolarisTagActions").loadTagPage(a.data)};c=function(a){return d("PolarisLocationActions").loadLocationPageV2(a.native_location_data)};g.setupExploreTagsLoggedInPage=a;g.setupExploreTagsLoggedOutPage=b;g.setupExploreLocationsPage=c}),98);
__d("PolarisTagFollowButton.react",["IGRouter_DO_NOT_USE.react","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisLinkBuilder","PolarisReactRedux.react","PolarisTagActions","polarisUserSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");e=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this,b)||this;c.$2=function(){var a=c.props,b=a.id,d=a.isFollowing,e=a.isLoading,f=a.loggingClickPoint,g=a.loggingContainerModule,h=a.tagName;a=a.viewerLoggedIn;if(!a){c.props.history.push(c.$1());return}if(e)return;a={clickPoint:f,containerModule:g,entityId:b};!d?c.props.onFollowHashtag(h,a):c.props.onUnfollowHashtag(h,a)};c.state={initialPath:b.history.location.pathname};return c}var e=b.prototype;e.$1=function(){return d("PolarisLinkBuilder").buildLoginLink(this.state.initialPath,{source:"followHashtag"})};e.render=function(){var a=this.props,b=a.isFollowing,e=a.isLoading;a=a.viewerLoggedIn;return i.jsx(c("PolarisIGCoreButton.react"),{color:b?"ig-secondary-button":"ig-primary-button",disabled:e,fullWidth:!0,href:a?void 0:this.$1(),loading:e,onClick:a?this.$2:void 0,children:b&&a?d("PolarisGenericStrings").FOLLOWING_TEXT:d("PolarisGenericStrings").FOLLOW_TEXT})};return b}(i.Component);function a(a,b){var c=d("polarisUserSelectors").getViewer__DEPRECATED(a);c=c&&c.id;c=!!c;a=a.tags[b.tagName];return{id:a==null?void 0:a.id,isFollowing:a==null?void 0:a.isFollowing,isLoading:a==null?void 0:a.isLoading,viewerLoggedIn:c}}function b(a){return{onFollowHashtag:function(b,c){return a(d("PolarisTagActions").followHashtag(b,c))},onUnfollowHashtag:function(b,c){return a(d("PolarisTagActions").unfollowHashtag(b,c))}}}f=d("IGRouter_DO_NOT_USE.react").withIGRouter(d("PolarisReactRedux.react").connect(a,b)(e));g["default"]=f}),98);
__d("usePolarisCopyLinkDialogFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisCopyLinkDialogFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},action:"THROW",path:"user"},{args:null,kind:"FragmentSpread",name:"usePolarisIsMediaShareable_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisIsMediaShareable_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisIsMediaShareable_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_media_sharing_disabled",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"owner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisIsMediaShareable",["invariant","CometRelay","PolarisPostShareUtils.next.react","react","usePolarisIsMediaShareable_media.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(j||d("react")).unstable_useMemoCache;function a(a,c){var e=k(7);c=c===void 0?null:c;a!=null||c!=null||h(0,77597);var f=d("CometRelay").useFragment(i!==void 0?i:i=b("usePolarisIsMediaShareable_media.graphql"),a);if(a!=null&&f!=null){a=f.can_viewer_reshare;var g=f.ig_media_sharing_disabled;f=f.owner;if(f==null)return!1;var j;e[0]!==f.is_private||e[1]!==a||e[2]!==g?(j=d("PolarisPostShareUtils.next.react").getIsShareable(!!f.is_private,!!a)&&g!==!0,e[0]=f.is_private,e[1]=a,e[2]=g,e[3]=j):j=e[3];return j}if(c!=null){if(c.owner==null)return!1;g=(a=(f=c.owner)==null?void 0:f.isPrivate)!=null?a:!0;f=(j=c.viewerCanReshare)!=null?j:!1;e[4]!==g||e[5]!==f?(a=d("PolarisPostShareUtils.next.react").getIsShareable(g,f),e[4]=g,e[5]=f,e[6]=a):a=e[6];return a}return!1}g["default"]=a}),98);
__d("usePolarisCopyLinkDialog",["fbt","invariant","CometRelay","JSResourceForInteraction","PolarisClipboard","PolarisLinkBuilder","PolarisLogger","emptyFunction","getPolarisPostType.next.react","polarisGetPostFromGraphMediaInterface","react","useIGDSLazyDialog","usePolarisAnalyticsContext","usePolarisCopyLinkDialogFragment.graphql","usePolarisIsMediaShareable","usePolarisShowToast"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=(k||d("react")).unstable_useMemoCache,m=h._("__JHASH__7fs2sU3yagD__JHASH__");e=h._("__JHASH__mFGhEjj3kIw__JHASH__");var n=c("JSResourceForInteraction")("PolarisCopyLinkDialog.react").__setRef("usePolarisCopyLinkDialog");function o(a,b){var c=d("PolarisLinkBuilder").buildMediaLink(a);b===d("polarisGetPostFromGraphMediaInterface").PRODUCT_TYPE_CLIPS&&(c=d("PolarisLinkBuilder").buildClipsMediaLink(a));b=window.location.origin+c;return b+"?utm_source=ig_web_copy_link"}function a(a,e,f){var g=l(7),h=f===void 0?c("emptyFunction"):f;a!=null||e!=null||i(0,77596);f=d("CometRelay").useFragment(j!==void 0?j:j=b("usePolarisCopyLinkDialogFragment.graphql"),a);var k=c("usePolarisShowToast")(),p=c("usePolarisAnalyticsContext")();a=c("useIGDSLazyDialog")(n);var q=a[0];a=c("usePolarisIsMediaShareable")(f,e);if(!a)return c("emptyFunction");var r;r="";var s;s="";if(f!=null){if(f.user==null||f.code==null)return c("emptyFunction");r=d("getPolarisPostType.next.react").getPolarisPostType((a=f==null?void 0:f.media_type)!=null?a:0);s=o((a=f.code)!=null?a:"",(a=f.product_type)!=null?a:"")}else if(e!=null){if(e.owner==null||e.code==null)return c("emptyFunction");r=(f=e.productType)!=null?f:"";s=o(e.code,(a=e.productType)!=null?a:"")}else return c("emptyFunction");f=s;e=r;g[0]!==q||g[1]!==f||g[2]!==p||g[3]!==e||g[4]!==k||g[5]!==h?(a=function(){if(!d("PolarisClipboard").canCopy()){q({postUrl:s});return}var a=d("PolarisClipboard").copy(s);d("PolarisLogger").logAction("postLinkCopy",{source:p,type:r});a?(k({text:m}),h()):q({postUrl:s})},g[0]=q,g[1]=f,g[2]=p,g[3]=e,g[4]=k,g[5]=h,g[6]=a):a=g[6];f=a;return f}g.LINK_COPIED_PROMPT=m;g.COPY_LINK_TEXT=e;g.usePolarisCopyLinkDialog=a}),226);